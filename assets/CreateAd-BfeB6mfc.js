import{c as xe,b as J,r as d,u as Q,j as e,P as B,f as z,e as he,V as pe,ae as X,d as je,R as ge,af as ve,ag as fe,i as Z,ah as Ne,Y as be,ai as ye,v as Ce,N as Re,F as we,C as T,l as F,m as P,n as E,a as A,w as y,x as C,y as N,z as R,I as G,D as w,E as ke,o as g,O as D,aj as _,W as V,Q as Se,ak as Ie,al as Ve,am as Te,an as Fe,p as Pe,s as k,_ as Ee,G as Ae}from"./index-C-5X1rDu.js";import{T as Ge}from"./textarea-DTjAffYJ.js";import{u as De,S as L,a as O,b as M,c as q,d as S}from"./select-ChTIuZqT.js";import{T as _e,a as Le,b as U}from"./tabs-DLOP1yI9.js";import{C as Oe}from"./circle-alert-Bx7T6nWl.js";import"./index-BdQq_4o_.js";import"./chevron-down-C_negZ-Z.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=xe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var H="Radio",[qe,ee]=J(H),[Ue,$e]=qe(H),se=d.forwardRef((n,i)=>{const{__scopeRadio:t,name:u,checked:c=!1,required:l,disabled:m,value:h="on",onCheck:j,form:r,...b}=n,[x,v]=d.useState(null),p=Q(i,o=>v(o)),s=d.useRef(!1),a=x?r||!!x.closest("form"):!0;return e.jsxs(Ue,{scope:t,checked:c,disabled:m,children:[e.jsx(B.button,{type:"button",role:"radio","aria-checked":c,"data-state":te(c),"data-disabled":m?"":void 0,disabled:m,value:h,...b,ref:p,onClick:z(n.onClick,o=>{c||j==null||j(),a&&(s.current=o.isPropagationStopped(),s.current||o.stopPropagation())})}),a&&e.jsx(ze,{control:x,bubbles:!s.current,name:u,value:h,checked:c,required:l,disabled:m,form:r,style:{transform:"translateX(-100%)"}})]})});se.displayName=H;var ae="RadioIndicator",re=d.forwardRef((n,i)=>{const{__scopeRadio:t,forceMount:u,...c}=n,l=$e(ae,t);return e.jsx(he,{present:u||l.checked,children:e.jsx(B.span,{"data-state":te(l.checked),"data-disabled":l.disabled?"":void 0,...c,ref:i})})});re.displayName=ae;var ze=n=>{const{control:i,checked:t,bubbles:u=!0,...c}=n,l=d.useRef(null),m=De(t),h=pe(i);return d.useEffect(()=>{const j=l.current,r=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(r,"checked").set;if(m!==t&&x){const v=new Event("click",{bubbles:u});x.call(j,t),j.dispatchEvent(v)}},[m,t,u]),e.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:t,...c,tabIndex:-1,ref:l,style:{...n.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function te(n){return n?"checked":"unchecked"}var Ke=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],W="RadioGroup",[Be,is]=J(W,[X,ee]),ne=X(),ie=ee(),[He,We]=Be(W),ce=d.forwardRef((n,i)=>{const{__scopeRadioGroup:t,name:u,defaultValue:c,value:l,required:m=!1,disabled:h=!1,orientation:j,dir:r,loop:b=!0,onValueChange:x,...v}=n,p=ne(t),s=je(r),[a,o]=ge({prop:l,defaultProp:c,onChange:x});return e.jsx(He,{scope:t,name:u,required:m,disabled:h,value:a,onValueChange:o,children:e.jsx(ve,{asChild:!0,...p,orientation:j,dir:s,loop:b,children:e.jsx(B.div,{role:"radiogroup","aria-required":m,"aria-orientation":j,"data-disabled":h?"":void 0,dir:s,...v,ref:i})})})});ce.displayName=W;var le="RadioGroupItem",oe=d.forwardRef((n,i)=>{const{__scopeRadioGroup:t,disabled:u,...c}=n,l=We(le,t),m=l.disabled||u,h=ne(t),j=ie(t),r=d.useRef(null),b=Q(i,r),x=l.value===c.value,v=d.useRef(!1);return d.useEffect(()=>{const p=a=>{Ke.includes(a.key)&&(v.current=!0)},s=()=>v.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",s),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",s)}},[]),e.jsx(fe,{asChild:!0,...h,focusable:!m,active:x,children:e.jsx(se,{disabled:m,required:l.required,checked:x,...j,...c,name:l.name,ref:b,onCheck:()=>l.onValueChange(c.value),onKeyDown:z(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:z(c.onFocus,()=>{var p;v.current&&((p=r.current)==null||p.click())})})})});oe.displayName=le;var Ye="RadioGroupIndicator",de=d.forwardRef((n,i)=>{const{__scopeRadioGroup:t,...u}=n,c=ie(t);return e.jsx(re,{...c,...u,ref:i})});de.displayName=Ye;var ue=ce,me=oe,Je=de;const K=d.forwardRef(({className:n,...i},t)=>e.jsx(ue,{className:Z("grid gap-2",n),...i,ref:t}));K.displayName=ue.displayName;const I=d.forwardRef(({className:n,...i},t)=>e.jsx(me,{ref:t,className:Z("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),...i,children:e.jsx(Je,{className:"flex items-center justify-center",children:e.jsx(Ne,{className:"h-2.5 w-2.5 fill-current text-current"})})}));I.displayName=me.displayName;const Qe=Pe({title:k().min(5,"العنوان يجب أن يكون 5 أحرف على الأقل").max(100,"العنوان طويل جداً"),description:k().min(20,"الوصف يجب أن يكون 20 حرفاً على الأقل").max(500,"الوصف طويل جداً"),category:k().min(1,"يجب اختيار فئة"),subcategory:k().min(1,"يجب اختيار فئة فرعية"),college:k().min(1,"يجب اختيار الكلية المستهدفة"),price:k().refine(n=>!isNaN(Number(n)),"يجب إدخال رقم صحيح"),adType:k().min(1,"يجب اختيار نوع الإعلان"),duration:k().min(1,"يجب اختيار مدة الإعلان")}),Y={"الخدمات الطلابية":["خدمات تقنية","دروس خصوصية","خدمات كتابة وتحرير","استشارات أكاديمية","أخرى"],"السكن والمواصلات":["سكن طلابي","شقق للإيجار","مواصلات","مشاركة سكن","أخرى"],"التوظيف والتدريب":["تدريب","وظيفة جزئية","وظيفة كاملة","فرص تطوعية","أخرى"],"الفعاليات والأنشطة":["ملتقى","ندوة","ورشة عمل","مؤتمر","نشاط طلابي","أخرى"]},$={عادي:50,مميز:100,"مميز+":200,موجه:150,فوري:250},Xe={عادي:"يظهر في القسم العام حسب ترتيب النشر",مميز:"يظهر في أعلى القائمة لفترة محددة","مميز+":"يظهر في الصفحة الرئيسية وفي أعلى القائمة",موجه:"يظهر للفئات المستهدفة فقط (حسب الكلية/التخصص)",فوري:"إشعارات للمستخدمين المهتمين مع ظهور مميز"};function cs(){be();const n=ye(),[i,t]=d.useState(1),[u,c]=d.useState(null),[l,m]=d.useState(""),[h,j]=d.useState(0),r=Ce({resolver:Ae(Qe),defaultValues:{title:"",description:"",category:"",subcategory:"",college:"",price:"0",adType:"عادي",duration:"7"}}),b=s=>{m(s),r.setValue("subcategory","")},x=()=>{const s=r.getValues("adType"),a=parseInt(r.getValues("duration")||"7"),o=$[s]||50;let f=1;a===14?f=1.75:a===30&&(f=3),j(o*f)},v=s=>{var o;const a=(o=s.target.files)==null?void 0:o[0];if(a){const f=new FileReader;f.onloadend=()=>{c(f.result)},f.readAsDataURL(a)}},p=async s=>{console.log("قيم النموذج:",s),console.log("السعر الإجمالي:",h),Ee.success("تم إنشاء إعلانك بنجاح! سيتم مراجعته ونشره قريباً"),n("/ads")};return e.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[e.jsx(Re,{}),e.jsx("div",{className:"container mx-auto py-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"إنشاء إعلان جديد"}),e.jsx("p",{className:"text-muted-foreground mb-8",children:"أضف إعلانك للوصول إلى مجتمع الطلاب والجامعات"}),e.jsx(_e,{defaultValue:"ad",className:"mb-8",children:e.jsxs(Le,{className:"mb-6",children:[e.jsx(U,{value:"ad",disabled:i!==1,children:"معلومات الإعلان"}),e.jsx(U,{value:"details",disabled:i!==2,children:"تفاصيل النشر"}),e.jsx(U,{value:"preview",disabled:i!==3,children:"المراجعة والدفع"})]})}),e.jsx(we,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(p),className:"space-y-6",children:[i===1&&e.jsxs(T,{children:[e.jsxs(F,{children:[e.jsx(P,{children:"معلومات الإعلان"}),e.jsx(E,{children:"أدخل المعلومات الأساسية للإعلان"})]}),e.jsxs(A,{className:"space-y-4",children:[e.jsx(y,{control:r.control,name:"title",render:({field:s})=>e.jsxs(C,{children:[e.jsx(N,{children:"عنوان الإعلان"}),e.jsx(R,{children:e.jsx(G,{placeholder:"أدخل عنوان واضح ومختصر لإعلانك",...s})}),e.jsx(w,{})]})}),e.jsx(y,{control:r.control,name:"description",render:({field:s})=>e.jsxs(C,{children:[e.jsx(N,{children:"وصف الإعلان"}),e.jsx(R,{children:e.jsx(Ge,{placeholder:"اكتب وصفاً تفصيلياً لإعلانك",className:"min-h-32",...s})}),e.jsx(w,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(y,{control:r.control,name:"category",render:({field:s})=>e.jsxs(C,{children:[e.jsx(N,{children:"الفئة الرئيسية"}),e.jsxs(L,{onValueChange:a=>{s.onChange(a),b(a)},value:s.value,children:[e.jsx(R,{children:e.jsx(O,{children:e.jsx(M,{placeholder:"اختر الفئة الرئيسية"})})}),e.jsx(q,{children:Object.keys(Y).map(a=>e.jsx(S,{value:a,children:a},a))})]}),e.jsx(w,{})]})}),e.jsx(y,{control:r.control,name:"subcategory",render:({field:s})=>{var a;return e.jsxs(C,{children:[e.jsx(N,{children:"الفئة الفرعية"}),e.jsxs(L,{onValueChange:s.onChange,value:s.value,disabled:!l,children:[e.jsx(R,{children:e.jsx(O,{children:e.jsx(M,{placeholder:"اختر الفئة الفرعية"})})}),e.jsx(q,{children:l&&((a=Y[l])==null?void 0:a.map(o=>e.jsx(S,{value:o,children:o},o)))})]}),e.jsx(w,{})]})}})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(y,{control:r.control,name:"college",render:({field:s})=>e.jsxs(C,{children:[e.jsx(N,{children:"الكلية المستهدفة"}),e.jsxs(L,{onValueChange:s.onChange,value:s.value,children:[e.jsx(R,{children:e.jsx(O,{children:e.jsx(M,{placeholder:"اختر الكلية المستهدفة"})})}),e.jsxs(q,{children:[e.jsx(S,{value:"all-colleges",children:"جميع الكليات"}),e.jsx(S,{value:"computer-science",children:"كلية الحاسب"}),e.jsx(S,{value:"engineering",children:"كلية الهندسة"}),e.jsx(S,{value:"medicine",children:"كلية الطب"}),e.jsx(S,{value:"science",children:"كلية العلوم"}),e.jsx(S,{value:"business",children:"كلية الإدارة"})]})]}),e.jsx(w,{})]})}),e.jsx(y,{control:r.control,name:"price",render:({field:s})=>e.jsxs(C,{children:[e.jsx(N,{children:"السعر (ريال)"}),e.jsx(R,{children:e.jsx(G,{type:"number",min:"0",step:"1",...s})}),e.jsx(ke,{children:"أدخل 0 إذا كان الإعلان مجانياً"}),e.jsx(w,{})]})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{children:"صورة الإعلان (اختياري)"}),e.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:u?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:u,alt:"صورة الإعلان",className:"mx-auto max-h-48 object-contain"}),e.jsx(g,{type:"button",variant:"destructive",size:"sm",className:"absolute top-0 right-0 mt-2 mr-2",onClick:()=>c(null),children:"حذف"})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(Me,{className:"h-10 w-10 text-muted-foreground"})}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"اسحب الصورة هنا أو انقر للاختيار"}),e.jsxs(g,{type:"button",variant:"outline",size:"sm",className:"mt-2",children:["اختر صورة",e.jsx(G,{type:"file",accept:"image/*",className:"hidden",onChange:v})]})]})})]})]}),e.jsxs(D,{className:"flex justify-between",children:[e.jsx(g,{variant:"outline",type:"button",onClick:()=>n("/ads"),children:"إلغاء"}),e.jsxs(g,{type:"button",onClick:()=>{["title","description","category","subcategory","college","price"].every(o=>r.trigger(o))&&t(2)},children:["التالي",e.jsx(_,{className:"mr-2 h-4 w-4"})]})]})]}),i===2&&e.jsxs(T,{children:[e.jsxs(F,{children:[e.jsx(P,{children:"تفاصيل النشر"}),e.jsx(E,{children:"اختر كيفية نشر إعلانك"})]}),e.jsxs(A,{className:"space-y-8",children:[e.jsx(y,{control:r.control,name:"adType",render:({field:s})=>e.jsxs(C,{children:[e.jsx(N,{children:"نوع الإعلان"}),e.jsx(R,{children:e.jsx(K,{onValueChange:a=>{s.onChange(a),x()},defaultValue:s.value,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.keys($).map(a=>e.jsxs("div",{className:"relative",children:[e.jsx(I,{value:a,id:`ad-type-${a}`,className:"sr-only"}),e.jsxs(V,{htmlFor:`ad-type-${a}`,className:`flex flex-col space-y-2 rounded-md border-2 p-4 hover:bg-muted ${s.value===a?"border-primary bg-primary/5":"border-muted"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-lg font-semibold",children:a}),e.jsxs("span",{className:"font-semibold text-primary",children:[$[a]," ريال"]})]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:Xe[a]}),s.value===a&&e.jsx(Se,{className:"absolute top-4 right-4 h-4 w-4 text-primary"})]})]},a))})}),e.jsx(w,{})]})}),e.jsx(y,{control:r.control,name:"duration",render:({field:s})=>e.jsxs(C,{children:[e.jsx(N,{children:"مدة الإعلان"}),e.jsx(R,{children:e.jsxs(K,{onValueChange:a=>{s.onChange(a),x()},defaultValue:s.value,className:"flex space-x-4 space-y-0 rtl:space-x-reverse",children:[e.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[e.jsx(I,{value:"7",id:"duration-7"}),e.jsx(V,{htmlFor:"duration-7",children:"7 أيام"})]}),e.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[e.jsx(I,{value:"14",id:"duration-14"}),e.jsx(V,{htmlFor:"duration-14",children:"14 يوم (خصم 25%)"})]}),e.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[e.jsx(I,{value:"30",id:"duration-30"}),e.jsx(V,{htmlFor:"duration-30",children:"30 يوم (خصم 50%)"})]})]})}),e.jsx(w,{})]})}),e.jsx("div",{className:"bg-muted p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between font-semibold",children:[e.jsx("span",{children:"الإجمالي:"}),e.jsxs("span",{className:"text-lg text-primary",children:[h," ريال"]})]})})]}),e.jsxs(D,{className:"flex justify-between",children:[e.jsx(g,{variant:"outline",type:"button",onClick:()=>t(1),children:"السابق"}),e.jsxs(g,{type:"button",onClick:()=>{["adType","duration"].every(o=>r.trigger(o))&&(x(),t(3))},children:["التالي",e.jsx(_,{className:"mr-2 h-4 w-4"})]})]})]}),i===3&&e.jsxs(T,{children:[e.jsxs(F,{children:[e.jsx(P,{children:"مراجعة ودفع"}),e.jsx(E,{children:"راجع تفاصيل إعلانك قبل النشر"})]}),e.jsxs(A,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold",children:"معلومات الإعلان:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"العنوان:"}),e.jsx("div",{className:"text-sm font-medium",children:r.getValues("title")}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"الفئة:"}),e.jsxs("div",{className:"text-sm font-medium",children:[r.getValues("category")," - ",r.getValues("subcategory")]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"الكلية المستهدفة:"}),e.jsx("div",{className:"text-sm font-medium",children:r.getValues("college")}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"السعر:"}),e.jsx("div",{className:"text-sm font-medium",children:parseInt(r.getValues("price"))>0?`${r.getValues("price")} ريال`:"مجاناً"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold",children:"تفاصيل النشر:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"نوع الإعلان:"}),e.jsx("div",{className:"text-sm font-medium",children:r.getValues("adType")}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"المدة:"}),e.jsxs("div",{className:"text-sm font-medium",children:[r.getValues("duration")," يوم"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"تاريخ النشر:"}),e.jsx("div",{className:"text-sm font-medium",children:new Date().toLocaleDateString("ar-SA")}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"إجمالي الرسوم:"}),e.jsxs("div",{className:"text-sm font-medium text-primary",children:[h," ريال"]})]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"الوصف:"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r.getValues("description")})]}),u&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"الصورة:"}),e.jsx("img",{src:u,alt:"صورة الإعلان",className:"max-h-48 object-contain"})]}),e.jsxs("div",{className:"border p-4 rounded-lg bg-muted/50 flex items-center space-x-4 rtl:space-x-reverse",children:[e.jsx(Oe,{className:"h-6 w-6 text-amber-600"}),e.jsx("div",{className:"flex-1 text-sm",children:"سيتم مراجعة إعلانك من قبل إدارة المنصة قبل نشره. قد يستغرق ذلك حتى 24 ساعة."})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between font-semibold",children:[e.jsx("span",{children:"الإجمالي:"}),e.jsxs("span",{className:"text-lg text-primary",children:[h," ريال"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold text-sm",children:"طرق الدفع:"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[e.jsx(g,{variant:"outline",className:"h-12",children:"مدى"}),e.jsx(g,{variant:"outline",className:"h-12",children:"فيزا / ماستركارد"}),e.jsx(g,{variant:"outline",className:"h-12",children:"آبل باي"}),e.jsx(Ie,{children:e.jsxs(Ve,{children:[e.jsx(Te,{asChild:!0,children:e.jsx(g,{variant:"outline",className:"h-12",disabled:!0,children:"رصيد المنصة"})}),e.jsx(Fe,{children:e.jsx("p",{children:"رصيدك الحالي: 0 ريال"})})]})})]})]})]})]}),e.jsxs(D,{className:"flex justify-between",children:[e.jsx(g,{variant:"outline",type:"button",onClick:()=>t(2),children:"السابق"}),e.jsxs(g,{type:"submit",children:["إنشاء ودفع",e.jsx(_,{className:"mr-2 h-4 w-4"})]})]})]})]})})]})})]})}export{cs as default};
