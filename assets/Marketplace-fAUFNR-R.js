import{q as M,s as R,t as P,v as _,r as i,w as q,j as e,D as G,x as O,y as Q,z as U,E as $,F as z,G as m,H as u,I as j,J as N,K as p,L as C,M as S,O as b,Q as l,R as g,U as D,V as H,W as K,X as J,p as x,Y as W,Z as X,N as Y,_ as Z,$ as ee,a0 as se,a1 as ae,a2 as te,a3 as w}from"./index-MCgi4oI2.js";import{T as re,a as le,b as L,c as F}from"./tabs-C6k98KHQ.js";const ne=M({title:R().min(5,{message:"العنوان يجب أن يتكون من 5 أحرف على الأقل"}),category:R({required_error:"يرجى اختيار تصنيف"}),description:R().min(10,{message:"الوصف يجب أن يتكون من 10 أحرف على الأقل"}),hourlyRate:P.number().min(1,{message:"السعر يجب أن يكون 1 على الأقل"}).max(10,{message:"السعر يجب ألا يتجاوز 10 ساعات"}),type:_(["offer","need"],{required_error:"يرجى اختيار نوع الإعلان"})}),ie=["تدريس","برمجة","تصميم","ترجمة","تحرير","مونتاج","تسويق","أخرى"];function ce({open:y,onOpenChange:f,onCreateListing:h}){const[n,c]=i.useState(!1),t=q({resolver:W(ne),defaultValues:{title:"",description:"",hourlyRate:1,type:"offer"}});function v(a){c(!0),setTimeout(()=>{const r={id:`new-${Date.now()}`,title:a.title,category:a.category,description:a.description,hourlyRate:a.hourlyRate,type:a.type,postedBy:{name:"أنت",university:"جامعتك"}};h(r),t.reset(),c(!1),f(!1)},1e3)}return e.jsx(G,{open:y,onOpenChange:f,children:e.jsxs(O,{className:"sm:max-w-[600px]",children:[e.jsxs(Q,{children:[e.jsx(U,{children:t.getValues("type")==="offer"?"إضافة عرض جديد":"إضافة طلب جديد"}),e.jsx($,{children:"أضف تفاصيل الخدمة التي تريد تقديمها أو الخدمة التي تحتاجها"})]}),e.jsx(z,{...t,children:e.jsxs("form",{onSubmit:t.handleSubmit(v),className:"space-y-4",children:[e.jsx(m,{control:t.control,name:"type",render:({field:a})=>e.jsxs(u,{children:[e.jsx(j,{children:"نوع الإعلان"}),e.jsxs(N,{onValueChange:a.onChange,defaultValue:a.value,children:[e.jsx(p,{children:e.jsx(C,{children:e.jsx(S,{placeholder:"اختر نوع الإعلان"})})}),e.jsxs(b,{children:[e.jsx(l,{value:"offer",children:"أقدم خدمة"}),e.jsx(l,{value:"need",children:"أبحث عن خدمة"})]})]}),e.jsx(g,{})]})}),e.jsx(m,{control:t.control,name:"title",render:({field:a})=>e.jsxs(u,{children:[e.jsx(j,{children:"عنوان الإعلان"}),e.jsx(p,{children:e.jsx(D,{placeholder:"أدخل عنوان الخدمة",...a})}),e.jsx(g,{})]})}),e.jsx(m,{control:t.control,name:"category",render:({field:a})=>e.jsxs(u,{children:[e.jsx(j,{children:"التصنيف"}),e.jsxs(N,{onValueChange:a.onChange,defaultValue:a.value,children:[e.jsx(p,{children:e.jsx(C,{children:e.jsx(S,{placeholder:"اختر تصنيفاً"})})}),e.jsx(b,{children:ie.map(r=>e.jsx(l,{value:r,children:r},r))})]}),e.jsx(g,{})]})}),e.jsx(m,{control:t.control,name:"description",render:({field:a})=>e.jsxs(u,{children:[e.jsx(j,{children:"الوصف"}),e.jsx(p,{children:e.jsx(H,{placeholder:"أدخل وصفاً تفصيلياً للخدمة",className:"resize-none",...a})}),e.jsx(g,{})]})}),e.jsx(m,{control:t.control,name:"hourlyRate",render:({field:a})=>e.jsxs(u,{children:[e.jsx(j,{children:"السعر (بالساعات)"}),e.jsx(p,{children:e.jsx(D,{type:"number",min:"1",max:"10",...a})}),e.jsx(K,{children:"حدد عدد الساعات التي تريد مقابل الخدمة (من 1 إلى 10 ساعات)"}),e.jsx(g,{})]})}),e.jsx(J,{children:e.jsx(x,{type:"submit",disabled:n,children:n?"جاري النشر...":"نشر الإعلان"})})]})})]})})}const oe=[{id:"1",title:"مساعدة في مشروع برمجي",type:"need",category:"برمجة",description:"أحتاج مساعدة في تطوير تطبيق موبايل باستخدام React Native لمشروع التخرج. المشروع عبارة عن تطبيق إدارة مهام.",hourlyRate:3,postedBy:{name:"أحمد محمد",university:"جامعة الملك سعود"}},{id:"2",title:"تصميم شعار للنادي العلمي",type:"need",category:"تصميم",description:"مطلوب تصميم شعار للنادي العلمي بكلية الحاسب. يجب أن يعكس الشعار التخصصات التقنية والابتكار.",hourlyRate:2,postedBy:{name:"منى الحربي",university:"جامعة الأميرة نورة"}},{id:"3",title:"تدريس الإحصاء التطبيقي",type:"offer",category:"تدريس",description:"أقدم دروس في الإحصاء التطبيقي وتحليل البيانات باستخدام R وSPSS للطلاب في التخصصات العلمية.",hourlyRate:2,postedBy:{name:"خالد العمري",university:"جامعة الملك فهد"}},{id:"4",title:"ترجمة بحث علمي",type:"offer",category:"ترجمة",description:"أقدم خدمة ترجمة الأبحاث العلمية من الإنجليزية إلى العربية وبالعكس. خبرة في المصطلحات الطبية والهندسية.",hourlyRate:3,postedBy:{name:"نورة السالم",university:"جامعة الملك عبدالعزيز"}},{id:"5",title:"تصميم عروض تقديمية",type:"offer",category:"تصميم",description:"أقدم خدمة تصميم العروض التقديمية الاحترافية للمشاريع والأبحاث باستخدام PowerPoint وCanva.",hourlyRate:1,postedBy:{name:"فهد العتيبي",university:"جامعة القصيم"}},{id:"6",title:"مساعدة في كتابة بحث تخرج",type:"need",category:"تحرير",description:"أحتاج مساعدة في تنسيق وتحرير بحث التخرج في تخصص إدارة الأعمال. البحث عن ريادة الأعمال في المملكة.",hourlyRate:4,postedBy:{name:"هدى الزهراني",university:"جامعة طيبة"}}],de=["الكل","تدريس","برمجة","تصميم","ترجمة","تحرير"];function ue(){const[y,f]=i.useState(oe),[h,n]=i.useState(""),[c,t]=i.useState("الكل"),[v,a]=i.useState("الأحدث"),[r,V]=i.useState("all"),[B,T]=i.useState(null),{toast:A}=X(),o=[...y.filter(s=>{const d=s.title.includes(h)||s.description.includes(h),k=c==="الكل"||s.category===c,I=r==="all"||r==="offers"&&s.type==="offer"||r==="needs"&&s.type==="need";return d&&k&&I})].sort((s,d)=>{switch(v){case"الأقدم":return s.id>d.id?1:-1;case"الأقل سعراً":return s.hourlyRate-d.hourlyRate;case"الأعلى سعراً":return d.hourlyRate-s.hourlyRate;default:return s.id<d.id?1:-1}}),E=s=>{f([s,...y]),A({title:"تم إنشاء الإعلان بنجاح",description:"سيظهر إعلانك الآن في قائمة الإعلانات"})};return e.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[e.jsx(Y,{}),e.jsx("main",{className:"flex-1",children:e.jsxs("div",{className:"container mx-auto py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-6 w-6 text-primary"}),e.jsx("h1",{className:"text-3xl font-bold",children:"سوق المهارات"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(x,{onClick:()=>T("offer"),children:[e.jsx(ee,{className:"h-4 w-4 ml-1"}),"نشر عرض"]}),e.jsxs(x,{variant:"outline",onClick:()=>T("need"),children:[e.jsx(se,{className:"h-4 w-4 ml-1"}),"نشر طلب"]})]})]}),e.jsx(ce,{open:B!==null,onOpenChange:s=>{s||T(null)},onCreateListing:E}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[e.jsxs("div",{className:"relative flex-grow",children:[e.jsx(ae,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(D,{placeholder:"ابحث في السوق...",className:"pl-10",value:h,onChange:s=>n(s.target.value)})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(N,{value:c,onValueChange:t,children:[e.jsxs(C,{className:"w-[180px]",children:[e.jsx(te,{className:"h-4 w-4 mr-2"}),e.jsx(S,{placeholder:"تصنيف"})]}),e.jsx(b,{children:de.map(s=>e.jsx(l,{value:s,children:s},s))})]}),e.jsxs(N,{value:v,onValueChange:a,children:[e.jsx(C,{className:"w-[180px]",children:e.jsx(S,{placeholder:"الترتيب"})}),e.jsxs(b,{children:[e.jsx(l,{value:"الأحدث",children:"الأحدث"}),e.jsx(l,{value:"الأقدم",children:"الأقدم"}),e.jsx(l,{value:"الأقل سعراً",children:"الأقل سعراً"}),e.jsx(l,{value:"الأعلى سعراً",children:"الأعلى سعراً"})]})]})]})]}),e.jsxs(re,{defaultValue:"all",value:r,onValueChange:V,children:[e.jsxs(le,{className:"mb-6",children:[e.jsx(L,{value:"all",children:"الكل"}),e.jsx(L,{value:"offers",children:"العروض"}),e.jsx(L,{value:"needs",children:"الطلبات"})]}),e.jsx(F,{value:"all",className:"mt-0",children:o.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:o.map(s=>e.jsx(w,{...s},s.id))}):e.jsxs("div",{className:"text-center py-10",children:[e.jsx("p",{className:"text-muted-foreground",children:"لا توجد إعلانات تطابق البحث"}),e.jsx(x,{variant:"outline",className:"mt-4",onClick:()=>{n(""),t("الكل")},children:"إعادة ضبط البحث"})]})}),e.jsx(F,{value:"offers",className:"mt-0",children:o.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:o.map(s=>e.jsx(w,{...s},s.id))}):e.jsxs("div",{className:"text-center py-10",children:[e.jsx("p",{className:"text-muted-foreground",children:"لا توجد عروض تطابق البحث"}),e.jsx(x,{variant:"outline",className:"mt-4",onClick:()=>{n(""),t("الكل")},children:"إعادة ضبط البحث"})]})}),e.jsx(F,{value:"needs",className:"mt-0",children:o.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:o.map(s=>e.jsx(w,{...s},s.id))}):e.jsxs("div",{className:"text-center py-10",children:[e.jsx("p",{className:"text-muted-foreground",children:"لا توجد طلبات تطابق البحث"}),e.jsx(x,{variant:"outline",className:"mt-4",onClick:()=>{n(""),t("الكل")},children:"إعادة ضبط البحث"})]})})]})]})})]})}export{ue as default};
