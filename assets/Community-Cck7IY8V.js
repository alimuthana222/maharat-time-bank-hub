import{c as v,r as t,Y as I,j as e,C as E,l as L,A as U,Z,_,$ as O,o as n,a0 as $,a1 as T,a2 as q,a as H,O as R,M as V,a3 as l,N as B,U as Q,W as S,I as D,k as G}from"./index-DGyH5tZZ.js";import{S as A}from"./share-2-CPVTbzBn.js";import{F as J}from"./flag-C6td6i-q.js";import{T as W,a as Y,b as P,c as M}from"./tabs-BcDYQWkv.js";import{S as K,a as X,b as ee,c as se,d as ae}from"./select-ChYsQ09A.js";import{D as te,f as re,a as le,b as ne,c as ce,d as ie,e as oe,g as de}from"./dialog-P6A5jfIA.js";import{T as me}from"./textarea-Cf4m5VuS.js";import{P as he}from"./plus-Dujf-at1.js";import{S as xe}from"./search-m1bFhS0S.js";import{F as ue}from"./filter-C2TZFvNB.js";import{T as je}from"./trending-up-DODOcmvs.js";import"./index-BdQq_4o_.js";import"./chevron-down-05aiL8q4.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=v("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=v("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=v("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=v("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=v("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);function z({id:m,title:h,content:x,author:o,createdAt:u,likesCount:f,commentsCount:j,tags:g=[]}){const[d,N]=t.useState(!1),[p,C]=t.useState(f),[c,y]=t.useState(!1),{user:s}=I(),r=a=>{const b=new Date(a);return new Intl.DateTimeFormat("ar",{day:"numeric",month:"long",year:"numeric"}).format(b)},i=()=>{if(!s){l.error("يرجى تسجيل الدخول للتفاعل مع المنشورات");return}C(d?a=>a-1:a=>a+1),N(!d)},k=()=>{if(!s){l.error("يرجى تسجيل الدخول لحفظ المنشورات");return}y(!c),l.success(c?"تم إلغاء حفظ المنشور":"تم حفظ المنشور")},w=()=>{navigator.share?navigator.share({title:h,text:`${h} - ${o.name}`,url:window.location.href}).catch(a=>{console.error("Error sharing: ",a),l.error("حدث خطأ أثناء المشاركة")}):navigator.clipboard.writeText(window.location.href).then(()=>l.success("تم نسخ رابط المنشور إلى الحافظة")).catch(()=>l.error("حدث خطأ أثناء نسخ الرابط"))},F=()=>{if(!s){l.error("يرجى تسجيل الدخول للإبلاغ عن المنشورات");return}l.success("تم إرسال البلاغ وسيتم مراجعته من قبل المشرفين")};return e.jsxs(E,{className:"mb-4",children:[e.jsx(L,{className:"pb-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(U,{children:e.jsx(Z,{children:o.avatarFallback})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:o.name}),e.jsx("div",{className:"text-xs text-muted-foreground",children:o.university})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:r(u)}),e.jsxs(_,{children:[e.jsx(O,{asChild:!0,children:e.jsxs(n,{variant:"ghost",size:"icon",className:"h-8 w-8",children:[e.jsx(pe,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"المزيد من الخيارات"})]})}),e.jsxs($,{align:"end",children:[e.jsxs(T,{onClick:k,children:[e.jsx(ge,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:c?"إلغاء الحفظ":"حفظ المنشور"})]}),e.jsxs(T,{onClick:w,children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"مشاركة المنشور"})]}),e.jsx(q,{}),e.jsxs(T,{onClick:F,className:"text-red-500",children:[e.jsx(Ne,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"الإبلاغ عن المنشور"})]})]})]})]})]})}),e.jsxs(H,{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:h}),e.jsx("p",{className:"text-muted-foreground mb-3",children:x}),g.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:g.map((a,b)=>e.jsxs("div",{className:"bg-muted text-xs rounded-full px-2.5 py-1",children:["#",a]},b))})]}),e.jsx(R,{className:"border-t pt-3",children:e.jsxs("div",{className:"flex justify-between w-full",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(n,{variant:"ghost",size:"sm",className:`flex gap-2 items-center ${d?"text-primary":""}`,onClick:i,children:[e.jsx(fe,{className:"h-4 w-4"}),e.jsx("span",{children:p})]}),e.jsxs(n,{variant:"ghost",size:"sm",className:"flex gap-2 items-center",children:[e.jsx(V,{className:"h-4 w-4"}),e.jsx("span",{children:j})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{variant:"ghost",size:"icon",onClick:w,children:e.jsx(A,{className:"h-4 w-4"})}),e.jsx(n,{variant:"ghost",size:"icon",onClick:F,children:e.jsx(J,{className:"h-4 w-4"})})]})]})})]})}const Ce=[{id:"1",title:"نصائح للاستعداد للاختبارات النهائية",content:"أنا طالب في السنة الثالثة وأبحث عن نصائح للاستعداد للاختبارات النهائية بشكل فعال. ما هي الطرق التي تستخدمونها للمذاكرة وتنظيم الوقت؟",author:{name:"أحمد محمد",avatarFallback:"أم",university:"جامعة الملك سعود"},createdAt:"2025-04-15T10:30:00Z",likesCount:15,commentsCount:8,tags:["مذاكرة","اختبارات","نصائح"]},{id:"2",title:"تجربتي في تطوير مهاراتي البرمجية",content:"أود مشاركة تجربتي في تطوير مهاراتي البرمجية من خلال العمل على مشاريع صغيرة والتعلم الذاتي. بدأت منذ سنة تقريباً وأرى تقدماً ملحوظاً...",author:{name:"سارة العتيبي",avatarFallback:"سع",university:"جامعة الأميرة نورة"},createdAt:"2025-04-14T14:45:00Z",likesCount:23,commentsCount:12,tags:["برمجة","تطوير_ذاتي","تعلم"]},{id:"3",title:"البحث عن مجموعة دراسية في تخصص إدارة الأعمال",content:"أبحث عن طلاب مهتمين بتشكيل مجموعة دراسية في تخصص إدارة الأعمال للفصل الدراسي القادم. هدفنا المذاكرة الجماعية وتبادل المعارف والخبرات.",author:{name:"خالد الزهراني",avatarFallback:"خز",university:"جامعة الملك فهد"},createdAt:"2025-04-12T09:15:00Z",likesCount:8,commentsCount:15,tags:["إدارة_أعمال","مجموعة_دراسية"]},{id:"4",title:"تجربة التدريب الصيفي في شركة أرامكو",content:"أود مشاركة تجربتي في التدريب الصيفي بشركة أرامكو العام الماضي. كانت تجربة مميزة تعلمت منها الكثير وأنصح الجميع بالتقديم...",author:{name:"نورة السالم",avatarFallback:"نس",university:"جامعة الملك عبدالعزيز"},createdAt:"2025-04-10T16:20:00Z",likesCount:45,commentsCount:22,tags:["تدريب_صيفي","أرامكو","خبرات"]}],ke=["الكل","أكاديمي","مهني","تقني","اجتماعي","ثقافي","رياضي","فني"];function Le(){const[m,h]=t.useState(""),[x,o]=t.useState(Ce),[u,f]=t.useState(""),[j,g]=t.useState(""),[d,N]=t.useState(""),[p,C]=t.useState("الكل"),c=x.filter(s=>{var k;const r=s.title.includes(m)||s.content.includes(m)||((k=s.tags)==null?void 0:k.some(w=>w.includes(m))),i=p==="الكل"||s.tags&&s.tags.includes(p);return r&&i}),y=()=>{if(!u.trim()||!j.trim())return;const s=d.split(",").map(i=>i.trim()).filter(i=>i.length>0),r={id:`${x.length+1}`,title:u,content:j,author:{name:"أنت",avatarFallback:"أن",university:"جامعتك"},createdAt:new Date().toISOString(),likesCount:0,commentsCount:0,tags:s};o([r,...x]),f(""),g(""),N("")};return e.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[e.jsx(B,{}),e.jsx("main",{className:"flex-1",children:e.jsxs("div",{className:"container mx-auto py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-6 w-6 text-primary"}),e.jsx("h1",{className:"text-3xl font-bold",children:"المجتمع"})]}),e.jsxs(te,{children:[e.jsx(re,{asChild:!0,children:e.jsxs(n,{children:[e.jsx(he,{className:"h-4 w-4 mr-2"}),"إنشاء منشور"]})}),e.jsxs(le,{className:"sm:max-w-[600px]",children:[e.jsxs(ne,{children:[e.jsx(ce,{children:"إنشاء منشور جديد"}),e.jsx(ie,{children:"شارك أفكارك واستفساراتك مع مجتمع الطلاب"})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(S,{htmlFor:"title",children:"عنوان المنشور"}),e.jsx(D,{id:"title",placeholder:"أدخل عنوان المنشور",value:u,onChange:s=>f(s.target.value)})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(S,{htmlFor:"content",children:"محتوى المنشور"}),e.jsx(me,{id:"content",placeholder:"اكتب محتوى منشورك هنا...",rows:5,value:j,onChange:s=>g(s.target.value)})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(S,{htmlFor:"tags",className:"flex items-center gap-2",children:[e.jsx(ve,{className:"h-4 w-4"}),"الوسوم"]}),e.jsx(D,{id:"tags",placeholder:"أدخل الوسوم مفصولة بفواصل (مثال: جامعة، دراسة، تخصص)",value:d,onChange:s=>N(s.target.value)})]})]}),e.jsxs(oe,{children:[e.jsx(de,{asChild:!0,children:e.jsx(n,{variant:"outline",children:"إلغاء"})}),e.jsx(n,{onClick:y,children:"نشر"})]})]})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[e.jsxs("div",{className:"relative flex-grow",children:[e.jsx(xe,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(D,{placeholder:"ابحث في المجتمع...",className:"pl-10",value:m,onChange:s=>h(s.target.value)})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(K,{value:p,onValueChange:C,children:[e.jsxs(X,{className:"w-[180px]",children:[e.jsx(ue,{className:"h-4 w-4 mr-2"}),e.jsx(ee,{placeholder:"التصنيف"})]}),e.jsx(se,{children:ke.map(s=>e.jsx(ae,{value:s,children:s},s))})]})})]}),e.jsxs(W,{defaultValue:"recent",children:[e.jsxs(Y,{className:"mb-6",children:[e.jsxs(P,{value:"recent",children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),"الأحدث"]}),e.jsxs(P,{value:"trending",children:[e.jsx(je,{className:"h-4 w-4 mr-2"}),"الأكثر تفاعلاً"]})]}),e.jsx(M,{value:"recent",children:c.length>0?c.map(s=>e.jsx(z,{...s},s.id)):e.jsx("div",{className:"text-center py-10",children:e.jsx("p",{className:"text-muted-foreground",children:"لا توجد منشورات تطابق بحثك"})})}),e.jsx(M,{value:"trending",children:c.sort((s,r)=>r.likesCount+r.commentsCount-(s.likesCount+s.commentsCount)).map(s=>e.jsx(z,{...s},s.id))})]})]})})]})}export{Le as default};
